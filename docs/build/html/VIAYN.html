
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VIAYN package &#8212; Voting Is All You Need 0.0 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="VIAYN.experiments package" href="VIAYN.experiments.html" />
    <link rel="prev" title="VIAYN" href="modules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="VIAYN.experiments.html" title="VIAYN.experiments package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="VIAYN"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Voting Is All You Need 0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">VIAYN</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">VIAYN package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="viayn-package">
<h1>VIAYN package<a class="headerlink" href="#viayn-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="VIAYN.experiments.html">VIAYN.experiments package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.experiments.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.experiments.html#module-VIAYN.experiments.experiment1">VIAYN.experiments.experiment1 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.experiments.html#module-VIAYN.experiments">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="VIAYN.samples.html">VIAYN.samples package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.samples.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="VIAYN.samples.factory.html">VIAYN.samples.factory package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="VIAYN.samples.factory.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="VIAYN.samples.factory.html#module-VIAYN.samples.factory.agent_factory">VIAYN.samples.factory.agent_factory module</a></li>
<li class="toctree-l4"><a class="reference internal" href="VIAYN.samples.factory.html#module-VIAYN.samples.factory.env_factory">VIAYN.samples.factory.env_factory module</a></li>
<li class="toctree-l4"><a class="reference internal" href="VIAYN.samples.factory.html#module-VIAYN.samples.factory.payout_config_factory">VIAYN.samples.factory.payout_config_factory module</a></li>
<li class="toctree-l4"><a class="reference internal" href="VIAYN.samples.factory.html#module-VIAYN.samples.factory.policy_config_factory">VIAYN.samples.factory.policy_config_factory module</a></li>
<li class="toctree-l4"><a class="reference internal" href="VIAYN.samples.factory.html#module-VIAYN.samples.factory.voting_config_factory">VIAYN.samples.factory.voting_config_factory module</a></li>
<li class="toctree-l4"><a class="reference internal" href="VIAYN.samples.factory.html#module-VIAYN.samples.factory">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.samples.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.samples.html#module-VIAYN.samples.agents">VIAYN.samples.agents module</a></li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.samples.html#module-VIAYN.samples.env">VIAYN.samples.env module</a></li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.samples.html#module-VIAYN.samples.payout">VIAYN.samples.payout module</a></li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.samples.html#module-VIAYN.samples.policy">VIAYN.samples.policy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.samples.html#module-VIAYN.samples.vote_ranges">VIAYN.samples.vote_ranges module</a></li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.samples.html#module-VIAYN.samples.voting">VIAYN.samples.voting module</a></li>
<li class="toctree-l2"><a class="reference internal" href="VIAYN.samples.html#module-VIAYN.samples">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-VIAYN.DiscreteDistribution">
<span id="viayn-discretedistribution-module"></span><h2>VIAYN.DiscreteDistribution module<a class="headerlink" href="#module-VIAYN.DiscreteDistribution" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="VIAYN.DiscreteDistribution.DiscreteDistribution">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.DiscreteDistribution.</code><code class="sig-name descname">DiscreteDistribution</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">values</span><span class="p">:</span> <span class="n">List<span class="p">[</span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">probabilities</span><span class="p">:</span> <span class="n">List<span class="p">[</span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">random_seed</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>numpy.random._generator.Generator<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.DiscreteDistribution.DiscreteDistribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data class representing a list of real-valued possibilities
associated with probabilities, such that the total probability is always 1</p>
<dl class="py method">
<dt id="VIAYN.DiscreteDistribution.DiscreteDistribution.from_weighted_vals">
<em class="property">static </em><code class="sig-name descname">from_weighted_vals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vals</span><span class="p">:</span> <span class="n">Iterable<span class="p">[</span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">weights</span><span class="p">:</span> <span class="n">Iterable<span class="p">[</span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">random_seed</span><span class="p">:</span> <span class="n">numpy.random._generator.Generator</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#VIAYN.DiscreteDistribution.DiscreteDistribution" title="VIAYN.DiscreteDistribution.DiscreteDistribution">VIAYN.DiscreteDistribution.DiscreteDistribution</a><a class="headerlink" href="#VIAYN.DiscreteDistribution.DiscreteDistribution.from_weighted_vals" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new DiscreteDistribution from a series of values &amp; their weights.
The probability of a value in the distribution is proportional to its weight.
If a value occurs more than once, its corresponding weights are summed</p>
<p>Weights are automatically normalized</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vals</strong> (<em>Iterable</em><em>[</em><em>float</em><em>]</em>) – the values in the discrete distribution</p></li>
<li><p><strong>weights</strong> (<em>Iterable</em><em>[</em><em>float</em><em>]</em>) – the weights of each of the values in vals.
Should correspond to each of the vals</p></li>
<li><p><strong>random_seed</strong> (<em>Generator</em>) – the random seed to be used when sampling from the returned object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>distibution</strong> – the newly constructed DiscreteDistribution</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#VIAYN.DiscreteDistribution.DiscreteDistribution" title="VIAYN.DiscreteDistribution.DiscreteDistribution">DiscreteDistribution</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="VIAYN.DiscreteDistribution.DiscreteDistribution.get_random">
<code class="sig-name descname">get_random</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.DiscreteDistribution.DiscreteDistribution.get_random" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.DiscreteDistribution.DiscreteDistribution.probabilities">
<code class="sig-name descname">probabilities</code><em class="property">: List<span class="p">[</span>float<span class="p">]</span></em><a class="headerlink" href="#VIAYN.DiscreteDistribution.DiscreteDistribution.probabilities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.DiscreteDistribution.DiscreteDistribution.random_seed">
<code class="sig-name descname">random_seed</code><em class="property">: Optional<span class="p">[</span>numpy.random._generator.Generator<span class="p">]</span></em><em class="property"> = None</em><a class="headerlink" href="#VIAYN.DiscreteDistribution.DiscreteDistribution.random_seed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.DiscreteDistribution.DiscreteDistribution.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.DiscreteDistribution.DiscreteDistribution.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a random sample from the distribution in O(n) time,
where N is the number of elements in the distribution</p>
<p>Essentially generates a random number between 0 &amp; 1 and then
selects the value corresponding to that number in the CDF
In practice, sorting the numbers to obtain a real CDF is useless,
so we don’t use an actual CDF</p>
<p>TODO: use numpy for this instead, it’s likely faster</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>sample_val</strong> – randomly selected value form the distribution</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="VIAYN.DiscreteDistribution.DiscreteDistribution.values">
<code class="sig-name descname">values</code><em class="property">: List<span class="p">[</span>float<span class="p">]</span></em><a class="headerlink" href="#VIAYN.DiscreteDistribution.DiscreteDistribution.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-VIAYN.project_types">
<span id="viayn-project-types-module"></span><h2>VIAYN.project_types module<a class="headerlink" href="#module-VIAYN.project_types" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="VIAYN.project_types.Action">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">Action</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">description</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.Action" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>base class for all actions
TODO: possibly useless if description is optional?</p>
<dl class="py attribute">
<dt id="VIAYN.project_types.Action.description">
<code class="sig-name descname">description</code><em class="property">: Optional<span class="p">[</span>str<span class="p">]</span></em><a class="headerlink" href="#VIAYN.project_types.Action.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.ActionBet">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">ActionBet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bet</span><span class="p">:</span> <span class="n">List<span class="p">[</span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">prediction</span><span class="p">:</span> <span class="n">List<span class="p">[</span>float<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.ActionBet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Minimal version of a bet containing only the parts that are
directly under the control of the agent</p>
<dl class="py attribute">
<dt id="VIAYN.project_types.ActionBet.bet">
<code class="sig-name descname">bet</code><em class="property">: List<span class="p">[</span>float<span class="p">]</span></em><a class="headerlink" href="#VIAYN.project_types.ActionBet.bet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.ActionBet.prediction">
<code class="sig-name descname">prediction</code><em class="property">: List<span class="p">[</span>float<span class="p">]</span></em><a class="headerlink" href="#VIAYN.project_types.ActionBet.prediction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.Agent">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">Agent</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.Agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Minimal interface for an agent to be used with train.py
Agent’s need to be able to do 2 things : predict &amp; bet</p>
<dl class="py method">
<dt id="VIAYN.project_types.Agent.bet">
<em class="property">abstract </em><code class="sig-name descname">bet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">S</span></em>, <em class="sig-param"><span class="n">action</span><span class="p">:</span> <span class="n">A</span></em>, <em class="sig-param"><span class="n">money</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#VIAYN.project_types.ActionBet" title="VIAYN.project_types.ActionBet">VIAYN.project_types.ActionBet</a><a class="headerlink" href="#VIAYN.project_types.Agent.bet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.Agent.view">
<code class="sig-name descname">view</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">info</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.AnonymizedHistoryItem" title="VIAYN.project_types.AnonymizedHistoryItem">VIAYN.project_types.AnonymizedHistoryItem</a></span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#VIAYN.project_types.Agent.view" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.Agent.vote">
<em class="property">abstract </em><code class="sig-name descname">vote</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">S</span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.project_types.Agent.vote" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.AnonymizedHistoryItem">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">AnonymizedHistoryItem</code><a class="headerlink" href="#VIAYN.project_types.AnonymizedHistoryItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.Configuration">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">Configuration</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.Configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Base class for configurations, as all configurations may want to validate
bets in their own way.</p>
<dl class="py method">
<dt id="VIAYN.project_types.Configuration.validate_bet">
<em class="property">abstract </em><code class="sig-name descname">validate_bet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bet</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet">VIAYN.project_types.WeightedBet</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#VIAYN.project_types.Configuration.validate_bet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.Environment">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">Environment</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.Environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code></p>
<p>Generic interface that aligns with OpenAI’s Gym</p>
<dl class="py method">
<dt id="VIAYN.project_types.Environment.actions">
<em class="property">abstract </em><code class="sig-name descname">actions</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Iterable<span class="p">[</span>A<span class="p">]</span><a class="headerlink" href="#VIAYN.project_types.Environment.actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.Environment.done">
<em class="property">abstract </em><code class="sig-name descname">done</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#VIAYN.project_types.Environment.done" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.Environment.reset">
<em class="property">abstract </em><code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; S<a class="headerlink" href="#VIAYN.project_types.Environment.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.Environment.seed">
<em class="property">abstract </em><code class="sig-name descname">seed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">random_seed</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.Environment.seed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.Environment.state">
<em class="property">abstract </em><code class="sig-name descname">state</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; S<a class="headerlink" href="#VIAYN.project_types.Environment.state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.Environment.step">
<em class="property">abstract </em><code class="sig-name descname">step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">action</span><span class="p">:</span> <span class="n">A</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#VIAYN.project_types.Environment.step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.HistoryItem">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">HistoryItem</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.HistoryItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code></p>
<dl class="py method">
<dt id="VIAYN.project_types.HistoryItem.available_actions">
<code class="sig-name descname">available_actions</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>A<span class="p">]</span><a class="headerlink" href="#VIAYN.project_types.HistoryItem.available_actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.HistoryItem.predictions">
<code class="sig-name descname">predictions</code><em class="property">: Dict<span class="p">[</span>A<span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet">VIAYN.project_types.WeightedBet</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span><span class="p">]</span></em><a class="headerlink" href="#VIAYN.project_types.HistoryItem.predictions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.HistoryItem.selected_action">
<code class="sig-name descname">selected_action</code><em class="property">: A</em><a class="headerlink" href="#VIAYN.project_types.HistoryItem.selected_action" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.HistoryItem.t_enacted">
<code class="sig-name descname">t_enacted</code><em class="property">: int</em><a class="headerlink" href="#VIAYN.project_types.HistoryItem.t_enacted" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.PayoutConfiguration">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">PayoutConfiguration</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.PayoutConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#VIAYN.project_types.Configuration" title="VIAYN.project_types.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">VIAYN.project_types.Configuration</span></code></a></p>
<p>Handles how much money each agent should get for their predictions</p>
<dl class="py method">
<dt id="VIAYN.project_types.PayoutConfiguration.calculate_all_payouts">
<em class="property">abstract </em><code class="sig-name descname">calculate_all_payouts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.HistoryItem" title="VIAYN.project_types.HistoryItem">VIAYN.project_types.HistoryItem</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">welfare_score</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">t_current</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">VIAYN.project_types.Agent</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">, </span>float<span class="p">]</span><a class="headerlink" href="#VIAYN.project_types.PayoutConfiguration.calculate_all_payouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates how much money each agent should get for their bets that were
cast in record</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>record</strong> (<a class="reference internal" href="#VIAYN.project_types.HistoryItem" title="VIAYN.project_types.HistoryItem"><em>HistoryItem</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em>) – record of all bets that were cast for a single timestep that are
now eligible for payouts</p></li>
<li><p><strong>welfare_score</strong> (<em>float</em>) – the current welfare score that the agents were trying to predict</p></li>
<li><p><strong>t_current</strong> (<em>int</em>) – the timestep &#64; which the welfare score was recorded</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>payouts</strong> – how much money each agent earned from their bets in this record</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">Agent</a>[A, S], float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.PayoutConfiguration.calculate_loss">
<em class="property">abstract </em><code class="sig-name descname">calculate_loss</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bet_to_evaluate</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet">VIAYN.project_types.WeightedBet</a></span></em>, <em class="sig-param"><span class="n">t_cast_on</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">t_current</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">welfare_score</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.project_types.PayoutConfiguration.calculate_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates ‘how far off’ the agents were from correctly predicting the welfare_score.
Mostly useful for example &amp; potential use in calculate_all_payouts</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bet_to_evaluate</strong> (<a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet"><em>WeightedBet</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em>) – the bet that we are calculating the loss on</p></li>
<li><p><strong>t_cast_on</strong> (<em>int</em>) – the timestep that the bet was cast on</p></li>
<li><p><strong>t_current</strong> (<em>int</em>) – the timestep that the evaluation is being made on
should be the same as the timestep corresponding to welfare score</p></li>
<li><p><strong>welfare_score</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>loss</strong> – how far off the predictions were</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float &gt;= 0</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.PayoutConfiguration.calculate_payout_from_loss">
<em class="property">abstract </em><code class="sig-name descname">calculate_payout_from_loss</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bet_amount_to_evaluate</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">loss_to_evaluate</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">all_losses</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Weighted" title="VIAYN.project_types.Weighted">VIAYN.project_types.Weighted</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">t_cast_on</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">t_current</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">action_bet_on</span><span class="p">:</span> <span class="n">A</span></em>, <em class="sig-param"><span class="n">action_selected</span><span class="p">:</span> <span class="n">A</span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.project_types.PayoutConfiguration.calculate_payout_from_loss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.PolicyConfiguration">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">PolicyConfiguration</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.PolicyConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#VIAYN.project_types.Configuration" title="VIAYN.project_types.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">VIAYN.project_types.Configuration</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<dl class="py method">
<dt id="VIAYN.project_types.PolicyConfiguration.action_probabilities">
<em class="property">abstract </em><code class="sig-name descname">action_probabilities</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aggregate_bets</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>A<span class="p">, </span>B<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>A<span class="p">, </span>float<span class="p">]</span><a class="headerlink" href="#VIAYN.project_types.PolicyConfiguration.action_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes/estimates the probability that each action is selected</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>aggregate_bet</strong> (<em>Dict</em><em>[</em><em>A</em><em>, </em><em>B</em><em>]</em>) – statistics about each action. E.g. weighted mean of predictions =&gt; B = floats</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>probabilities</strong> – the probability that each action will be selected, from 0 to 1
only one action can be taken</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[A, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.PolicyConfiguration.aggregate_bets">
<em class="property">abstract </em><code class="sig-name descname">aggregate_bets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">predictions</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>A<span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet">VIAYN.project_types.WeightedBet</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>A<span class="p">, </span>B<span class="p">]</span><a class="headerlink" href="#VIAYN.project_types.PolicyConfiguration.aggregate_bets" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes some aggregate statistics about the predictions made.
The decisions about what action to take must be made SOLELY off of these
aggregate statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>predictions</strong> (<em>Dict</em><em>[</em><em>A</em><em>, </em><em>List</em><em>[</em><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet"><em>WeightedBet</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em><em>]</em><em>]</em>) – predictions to aggregate statistics for for each action</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>stats</strong> – mapping from actions to aggregated stats of the predictions about them</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[A, B]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.PolicyConfiguration.select_action">
<em class="property">abstract </em><code class="sig-name descname">select_action</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aggregate_bets</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>A<span class="p">, </span>B<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; A<a class="headerlink" href="#VIAYN.project_types.PolicyConfiguration.select_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on the statistics about the actions, selects an action to take
May be non-deterministic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>aggregate_bets</strong> (<em>Dict</em><em>[</em><em>A</em><em>, </em><em>B</em><em>]</em>) – statistics about each action. E.g. weighted mean of predictions =&gt; B = float</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>action</strong> – the selected action</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.SystemConfiguration">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">SystemConfiguration</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.SystemConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#VIAYN.project_types.Configuration" title="VIAYN.project_types.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">VIAYN.project_types.Configuration</span></code></a></p>
<p>Small class to batch all of the different configurations together.</p>
<dl class="py attribute">
<dt id="VIAYN.project_types.SystemConfiguration.payout_manager">
<code class="sig-name descname">payout_manager</code><em class="property">: <a class="reference internal" href="#VIAYN.project_types.PayoutConfiguration" title="VIAYN.project_types.PayoutConfiguration">VIAYN.project_types.PayoutConfiguration</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span></em><a class="headerlink" href="#VIAYN.project_types.SystemConfiguration.payout_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.SystemConfiguration.policy_manager">
<code class="sig-name descname">policy_manager</code><em class="property">: <a class="reference internal" href="#VIAYN.project_types.PolicyConfiguration" title="VIAYN.project_types.PolicyConfiguration">VIAYN.project_types.PolicyConfiguration</a><span class="p">[</span>A<span class="p">, </span>B<span class="p">, </span>S<span class="p">]</span></em><a class="headerlink" href="#VIAYN.project_types.SystemConfiguration.policy_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.SystemConfiguration.validate_bet">
<code class="sig-name descname">validate_bet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bet</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet">VIAYN.project_types.WeightedBet</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#VIAYN.project_types.SystemConfiguration.validate_bet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.SystemConfiguration.voting_manager">
<code class="sig-name descname">voting_manager</code><em class="property">: <a class="reference internal" href="#VIAYN.project_types.VotingConfiguration" title="VIAYN.project_types.VotingConfiguration">VIAYN.project_types.VotingConfiguration</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span></em><a class="headerlink" href="#VIAYN.project_types.SystemConfiguration.voting_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.VoteRange">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">VoteRange</code><a class="headerlink" href="#VIAYN.project_types.VoteRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Type of possible voting. e.g. Yes/No = {0, 1},
5 Stars = {1, 2, 3, 4, 5}, etc.</p>
<p>Checks whether or not votes comply with this format
because they are all technically floats</p>
<dl class="py method">
<dt id="VIAYN.project_types.VoteRange.contains">
<em class="property">abstract static </em><code class="sig-name descname">contains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#VIAYN.project_types.VoteRange.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether or not ‘value’ is valid for this vote range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – the value to be checked</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>valid</strong> – whether or not the vote is valid for this VoteRange</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.VoteRange.maxVote">
<em class="property">abstract static </em><code class="sig-name descname">maxVote</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.project_types.VoteRange.maxVote" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>maximum</strong> – the maximum possible float that can be cast in this system.
e.g. 5 for 5star voting
may be inf or nan</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.VoteRange.minVote">
<em class="property">abstract static </em><code class="sig-name descname">minVote</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.project_types.VoteRange.minVote" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>maximum</strong> – the minimum possible float that can be cast in this system
e.g. 1 for 5star voting
may be inf or nan</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.VotingConfiguration">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">VotingConfiguration</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.VotingConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#VIAYN.project_types.Configuration" title="VIAYN.project_types.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">VIAYN.project_types.Configuration</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<dl class="simple">
<dt>Handles everything voting related.</dt><dd><ul class="simple">
<li><p>Checking valid votes (via vote_range)</p></li>
<li><p>Calculating aggregate votes (via aggregate_votes)</p></li>
<li><dl class="simple">
<dt>checking minimum/maximum possible predictions (via calculating min &amp; max</dt><dd><p>possible vote totals, hypothetically)</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="VIAYN.project_types.VotingConfiguration.aggregate_votes">
<em class="property">abstract </em><code class="sig-name descname">aggregate_votes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">votes</span><span class="p">:</span> <span class="n">List<span class="p">[</span>float<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.project_types.VotingConfiguration.aggregate_votes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.VotingConfiguration.is_valid_prediction">
<em class="property">abstract </em><code class="sig-name descname">is_valid_prediction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prediction</span><span class="p">:</span> <span class="n">List<span class="p">[</span>float<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#VIAYN.project_types.VotingConfiguration.is_valid_prediction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.VotingConfiguration.max_possible_vote_total">
<em class="property">abstract </em><code class="sig-name descname">max_possible_vote_total</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.project_types.VotingConfiguration.max_possible_vote_total" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dt</strong> – int
Timestep offset from current timestep. Useful because
valid votes may change as number of agents is expected
to grow</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>max: float
the maximum possible value that could be achieved if
all agents voted the maximum score</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.VotingConfiguration.min_possible_vote_total">
<em class="property">abstract </em><code class="sig-name descname">min_possible_vote_total</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.project_types.VotingConfiguration.min_possible_vote_total" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dt</strong> – int
Timestep offset from current timestep. Useful because
valid votes may change as number of agents is expected
to grow</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>min: float
the minimum possible value that could be achieved if
all agents voted the minimum score</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.VotingConfiguration.n_agents">
<code class="sig-name descname">n_agents</code><em class="property">: int</em><a class="headerlink" href="#VIAYN.project_types.VotingConfiguration.n_agents" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.VotingConfiguration.set_n_agents">
<em class="property">abstract </em><code class="sig-name descname">set_n_agents</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_agents</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#VIAYN.project_types.VotingConfiguration.set_n_agents" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the number of agents in the system. Useful for calculating
what the max/min possible vote totals are</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n_agents</strong> (<em>int &gt; 0</em>) – the number of agents in the system</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.VotingConfiguration.vote_range">
<code class="sig-name descname">vote_range</code><em class="property">: <a class="reference internal" href="#VIAYN.project_types.VoteRange" title="VIAYN.project_types.VoteRange">VIAYN.project_types.VoteRange</a></em><a class="headerlink" href="#VIAYN.project_types.VotingConfiguration.vote_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.Weighted">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">Weighted</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">weight</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">val</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.Weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="VIAYN.project_types.Weighted.val">
<code class="sig-name descname">val</code><em class="property">: float</em><a class="headerlink" href="#VIAYN.project_types.Weighted.val" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.Weighted.weight">
<code class="sig-name descname">weight</code><em class="property">: float</em><a class="headerlink" href="#VIAYN.project_types.Weighted.weight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="VIAYN.project_types.WeightedBet">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.project_types.</code><code class="sig-name descname">WeightedBet</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.project_types.WeightedBet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code>, <a class="reference internal" href="#VIAYN.project_types.ActionBet" title="VIAYN.project_types.ActionBet"><code class="xref py py-class docutils literal notranslate"><span class="pre">VIAYN.project_types.ActionBet</span></code></a></p>
<p>Like ActionBet, but with additional metadata about the bet
that the Agent should NOT be able to control</p>
<dl class="py attribute">
<dt id="VIAYN.project_types.WeightedBet.action">
<code class="sig-name descname">action</code><em class="property">: A</em><a class="headerlink" href="#VIAYN.project_types.WeightedBet.action" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.WeightedBet.cast_by">
<code class="sig-name descname">cast_by</code><em class="property">: <a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">VIAYN.project_types.Agent</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span></em><a class="headerlink" href="#VIAYN.project_types.WeightedBet.cast_by" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.project_types.WeightedBet.money">
<code class="sig-name descname">money</code><em class="property">: float</em><a class="headerlink" href="#VIAYN.project_types.WeightedBet.money" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.project_types.WeightedBet.weight">
<code class="sig-name descname">weight</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>float<span class="p">]</span><a class="headerlink" href="#VIAYN.project_types.WeightedBet.weight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-VIAYN.train">
<span id="viayn-train-module"></span><h2>VIAYN.train module<a class="headerlink" href="#module-VIAYN.train" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="VIAYN.train.TrainResult">
<em class="property">class </em><code class="sig-prename descclassname">VIAYN.train.</code><code class="sig-name descname">TrainResult</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#VIAYN.train.TrainResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code></p>
<p>Should be treated as constant.</p>
<p>Essentially a struct for containing all of the
information about a given run of train()</p>
<p>TODO: does not contain information about post-episode payouts</p>
<dl>
<dt>histories: List[List[HistoryItem[A, S]]]</dt><dd><p>contains all of the information about the votes
that the history item contains</p>
<p>Outer-most list indexes different episodes
Inner List contains each timestep in each episode
Each HistoryItem contains all of the information about
one predict-act-vote-payout loop</p>
</dd>
<dt>balances: Dict[Agent[A, S], float]</dt><dd><p>Amount of money each agent is left with after train is finished
being called. Not directly derivable because of post-episode
payouts</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="VIAYN.train.TrainResult.balances">
<code class="sig-name descname">balances</code><em class="property">: Dict<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">VIAYN.project_types.Agent</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">, </span>float<span class="p">]</span></em><a class="headerlink" href="#VIAYN.train.TrainResult.balances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="VIAYN.train.TrainResult.histories">
<code class="sig-name descname">histories</code><em class="property">: List<span class="p">[</span>List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.HistoryItem" title="VIAYN.project_types.HistoryItem">VIAYN.project_types.HistoryItem</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span><span class="p">]</span></em><a class="headerlink" href="#VIAYN.train.TrainResult.histories" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="VIAYN.train.TrainResult.history_item_for">
<code class="sig-name descname">history_item_for</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">episode_num</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">t_step</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#VIAYN.project_types.HistoryItem" title="VIAYN.project_types.HistoryItem">VIAYN.project_types.HistoryItem</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><a class="headerlink" href="#VIAYN.train.TrainResult.history_item_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Essentially exists to make parsing TrainResult histories
more clear</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>episode_num</strong> (<em>int &gt;= 0</em>) – the index of the episode containing the returned
history item</p></li>
<li><p><strong>t_step</strong> (<em>int &gt;= 0</em>) – the timestep of the returned history item within the selected
episode</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>history</strong> – the selected history item containing all information about
that timestep’s loop.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#VIAYN.project_types.HistoryItem" title="VIAYN.project_types.HistoryItem">HistoryItem</a>[A, S]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="VIAYN.train.calculate_payouts">
<code class="sig-prename descclassname">VIAYN.train.</code><code class="sig-name descname">calculate_payouts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">history</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.HistoryItem" title="VIAYN.project_types.HistoryItem">VIAYN.project_types.HistoryItem</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">welfare_score</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration">VIAYN.project_types.SystemConfiguration</a><span class="p">[</span>A<span class="p">, </span>B<span class="p">, </span>S<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">t</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">VIAYN.project_types.Agent</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">, </span>float<span class="p">]</span><a class="headerlink" href="#VIAYN.train.calculate_payouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates how much money each agent should receive at this
timestep</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>history</strong> (<em>List</em><em>[</em><a class="reference internal" href="#VIAYN.project_types.HistoryItem" title="VIAYN.project_types.HistoryItem"><em>HistoryItem</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em><em>]</em>) – All of the previous bets that have taken place
this episode. Payouts are based on previous bets</p></li>
<li><p><strong>welfare_score</strong> (<em>float &gt;= 0</em>) – the aggregated votes that all agents cast on this timestep.
Should compare the predictions against this</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration"><em>SystemConfiguration</em></a><em>[</em><em>A</em><em>, </em><em>B</em><em>, </em><em>S</em><em>]</em>) – uses config.payout_manager to calculate payouts
uses all of config to validate prediction/bet validitiy</p></li>
<li><p><strong>t</strong> (<em>int</em>) – <p>the timestep that payouts are being calculated for</p>
<p>TODO: make sure that we don’t calculate payouts for the same
timestep twice?</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>total_payouts</strong> – the amount of money received by each agent
all amounts should be positive
not all agents necessarily receive payouts
(i.e. if they bet 0 or had 0 money)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">Agent</a>[A, S], float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.train.get_agent_bets">
<code class="sig-prename descclassname">VIAYN.train.</code><code class="sig-name descname">get_agent_bets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agents</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">VIAYN.project_types.Agent</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">balances</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">VIAYN.project_types.Agent</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">S</span></em>, <em class="sig-param"><span class="n">actions</span><span class="p">:</span> <span class="n">Iterable<span class="p">[</span>A<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>A<span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet">VIAYN.project_types.WeightedBet</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span><span class="p">]</span><a class="headerlink" href="#VIAYN.train.get_agent_bets" title="Permalink to this definition">¶</a></dt>
<dd><p>Solicits agent bets for each possible action available at this timestep
Agents can opt out of betting by betting $0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agents</strong> (<em>List</em><em>[</em><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent"><em>Agent</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em><em>]</em>) – the agents who may place bets at the current timestep
should always be the same as the voters</p></li>
<li><p><strong>balances</strong> (<em>Dict</em><em>[</em><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent"><em>Agent</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em><em>, </em><em>float</em><em>]</em>) – the current amount of money that each agent has
each agent can view their current account balance
when making a decision</p></li>
<li><p><strong>state</strong> (<em>S</em>) – the current state of the environment, also used in agent
decisions</p></li>
<li><p><strong>actions</strong> (<em>List</em><em>[</em><em>A</em><em>]</em>) – the available actions at this timestep</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>placed_bets</strong> – for each action, the list of bets that were placed on that action
at most one bet per agent
# TODO: technically multiple bets per agent could be useful
# as a variance reduction strategy for agents</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[A, List[WeightedBets[A, S]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.train.get_agent_votes">
<code class="sig-prename descclassname">VIAYN.train.</code><code class="sig-name descname">get_agent_votes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agents</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">VIAYN.project_types.Agent</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">S</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration">VIAYN.project_types.SystemConfiguration</a><span class="p">[</span>A<span class="p">, </span>B<span class="p">, </span>S<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.train.get_agent_votes" title="Permalink to this definition">¶</a></dt>
<dd><p>Has each agent vote on the current state &amp; aggregates their
votes in to a single anonymized value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agents</strong> (<em>List</em><em>[</em><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent"><em>Agent</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em><em>]</em>) – the agents that are eligible to vote</p></li>
<li><p><strong>state</strong> (<em>S</em>) – the current state that agents will base their vote upon</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration"><em>SystemConfiguration</em></a><em>[</em><em>A</em><em>, </em><em>B</em><em>, </em><em>S</em><em>]</em>) – config.voting_manager is used to validate all votes
and aggregate them</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vote_total</strong> – aggregated total votes received for the current timestep
higher is better</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float &gt;= 0</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.train.pay_outstanding_bets">
<code class="sig-prename descclassname">VIAYN.train.</code><code class="sig-name descname">pay_outstanding_bets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">history</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.HistoryItem" title="VIAYN.project_types.HistoryItem">VIAYN.project_types.HistoryItem</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">last_t</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration">VIAYN.project_types.SystemConfiguration</a><span class="p">[</span>A<span class="p">, </span>B<span class="p">, </span>S<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">VIAYN.project_types.Agent</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">, </span>float<span class="p">]</span><a class="headerlink" href="#VIAYN.train.pay_outstanding_bets" title="Permalink to this definition">¶</a></dt>
<dd><p>Essentially pays out any money that agents still had left outstanding
in bets when the episode ended (i.e. bets that hadn’t had the chance
to be paid back)</p>
<p>All payouts are handled as if they were a normal timestep where the total
votes were 0 (because nobody received any reward)</p>
<p>TODO: configure payout scheme? (what if end of episode pays out average?)
TODO: refactor this</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>history</strong> (<em>List</em><em>[</em><a class="reference internal" href="#VIAYN.project_types.HistoryItem" title="VIAYN.project_types.HistoryItem"><em>HistoryItem</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em><em>]</em>) – record of all of the events that happened this episode</p></li>
<li><p><strong>last_t</strong> (<em>int &gt;= 0</em>) – the last timestep before the episode ended</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration"><em>SystemConfiguration</em></a><em>[</em><em>A</em><em>, </em><em>B</em><em>, </em><em>S</em><em>]</em>) – configuration used for payouts</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>payouts</strong> – the amount of money each agent is paid out for the outstanding
bets</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">Agent</a>[A, S], float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.train.select_action">
<code class="sig-prename descclassname">VIAYN.train.</code><code class="sig-name descname">select_action</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bets</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>A<span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet">VIAYN.project_types.WeightedBet</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration">VIAYN.project_types.SystemConfiguration</a><span class="p">[</span>A<span class="p">, </span>B<span class="p">, </span>S<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; A<a class="headerlink" href="#VIAYN.train.select_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects which action to collectively take for this timestep
based on the predictions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bets</strong> (<em>Dict</em><em>[</em><em>A</em><em>, </em><em>List</em><em>[</em><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet"><em>WeightedBet</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em><em>]</em><em>]</em>) – for each action, the bets that were cast about the expected
vote totals if that action is enacted</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration"><em>SystemConfiguration</em></a><em>[</em><em>A</em><em>, </em><em>B</em><em>, </em><em>S</em><em>]</em>) – used for aggregating the bets &amp; making decisions based on those
bets
really just uses config.policy_manager</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>action</strong> – the selected action</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.train.train">
<code class="sig-prename descclassname">VIAYN.train.</code><code class="sig-name descname">train</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agents</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent">VIAYN.project_types.Agent</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">env</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.Environment" title="VIAYN.project_types.Environment">VIAYN.project_types.Environment</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">episode_seeds</span><span class="p">:</span> <span class="n">Iterable<span class="p">[</span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">config</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration">VIAYN.project_types.SystemConfiguration</a><span class="p">[</span>A<span class="p">, </span>B<span class="p">, </span>S<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">tsteps_per_episode</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">inf</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#VIAYN.train.TrainResult" title="VIAYN.train.TrainResult">VIAYN.train.TrainResult</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><a class="headerlink" href="#VIAYN.train.train" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agents</strong> (<em>List</em><em>[</em><a class="reference internal" href="#VIAYN.project_types.Agent" title="VIAYN.project_types.Agent"><em>Agent</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em><em>]</em>) – all of the agents that will have the opportunity to
vote, predict &amp; earn money during the timestep</p></li>
<li><p><strong>env</strong> (<a class="reference internal" href="#VIAYN.project_types.Environment" title="VIAYN.project_types.Environment"><em>Environment</em></a><em>[</em><em>A</em><em>, </em><em>S</em><em>]</em>) – The environment that the agents are acting in
All agents collectively take a single action each timestep.
They all view the same resulting state (but may have different
preferences about the quality of each state)</p></li>
<li><p><strong>episode_seeds</strong> (<em>Iterable</em><em>[</em><em>int</em><em>]</em>) – Calls env.seed(seed) at the beginning of each episode.
Each seed in episode_seeds is run once. Algorithm returns after
no more seeds are left.</p></li>
<li><p><strong>config</strong> (<a class="reference internal" href="#VIAYN.project_types.SystemConfiguration" title="VIAYN.project_types.SystemConfiguration"><em>SystemConfiguration</em></a><em>[</em><em>A</em><em>, </em><em>B</em><em>, </em><em>S</em><em>]</em>) – Configuration for thre training script, contains most of the
algorithmic choices. See class documentation for more info</p></li>
<li><p><strong>tsteps_per_episode</strong> (<em>int &gt;= 0</em>) – Runs each episode until either episode.done() is true or r
tsteps_per_episode is exceeded</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – datatype logging the history of events during training</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#VIAYN.train.TrainResult" title="VIAYN.train.TrainResult">TrainResult</a>[A, S]</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-VIAYN.utils">
<span id="viayn-utils-module"></span><h2>VIAYN.utils module<a class="headerlink" href="#module-VIAYN.utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="VIAYN.utils.add_dictionaries">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">add_dictionaries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">first</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>T<span class="p">, </span>U<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">second</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>T<span class="p">, </span>U<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>T<span class="p">, </span>U<span class="p">]</span><a class="headerlink" href="#VIAYN.utils.add_dictionaries" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Combines two dictionaries. If a key is found in both dictionaries,</dt><dd><p>the values are added</p>
</dd>
</dl>
<p>Both arguments are not modified
V must implement __add__(V, V) -&gt; V</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first</strong> (<em>Dict</em><em>[</em><em>T</em><em>, </em><em>V</em><em>]</em>) – </p></li>
<li><p><strong>second</strong> (<em>Dict</em><em>[</em><em>T</em><em>, </em><em>V</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>combined</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[T, V]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.argmax">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">argmax</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span><span class="p">:</span> <span class="n">Sequence<span class="p">[</span>T<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">fn</span><span class="p">:</span> <span class="n">Callable<span class="p">[</span><span class="p">[</span>T<span class="p">]</span><span class="p">, </span>float<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span>T<span class="p">]</span><a class="headerlink" href="#VIAYN.utils.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Breaks ties with the first element found</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – </p></li>
<li><p><strong>fn</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.behaviour_lookup_from_dict">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">behaviour_lookup_from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span> <span class="n">K</span></em>, <em class="sig-param"><span class="n">lookup</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>K<span class="p">, </span>V<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span>V<span class="p">]</span><a class="headerlink" href="#VIAYN.utils.behaviour_lookup_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Assumes the key argument and the keys of lookup are both sequences of the same types.
Keys of lookup are interpreted as filters</p>
<p>Iterates through the elements of lookup and tries to find the most restrictive filter that
still matches the key argument.</p>
<p>Returns the corresponding value in lookup. If no such value found, returns None</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>K</em><em> (</em><em>Sequence</em><em>)</em>) – </p></li>
<li><p><strong>lookup</strong> (<em>Dict</em><em>[</em><em>K</em><em>, </em><em>V</em><em>]</em><em>]</em>) – keys like key except may contain Nones
interpreted as filters of varying strictness</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>best_match</strong> – the value corresponding to the strictest filter that
‘key’ was able to fulfil. None if no filters were fulfilled</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[V]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.dict_argmax">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">dict_argmax</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictionary</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>T<span class="p">, </span>float<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">rng</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>numpy.random._generator.Generator<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Optional<span class="p">[</span>T<span class="p">]</span><a class="headerlink" href="#VIAYN.utils.dict_argmax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.is_numeric">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">is_numeric</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span><span class="p">:</span> <span class="n">Any</span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#VIAYN.utils.is_numeric" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.iterable_matches">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">iterable_matches</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span><span class="p">:</span> <span class="n">Sequence</span></em>, <em class="sig-param"><span class="n">filter</span><span class="p">:</span> <span class="n">Sequence</span></em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#VIAYN.utils.iterable_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a bit of a weird function to match sequences with filters.
It’s currently intended to be used for look-up in a dictionary with optional arguments.</p>
<p>Here are some examples:
iterable_matches((s1, a1), (s1, a1)) =&gt; 2
iterable_matches((s1, a1), (s1, a2)) =&gt; -1
iterable_matches((s1, a1), (s1, None)) =&gt; 1</p>
<p>in short, it checks if every non-None element of the filter is equal to the
corresponding element of the item. If not, it returns -1. If yes, then it
returns the number of non-None values in the filter.</p>
<p>This is useful for making policies of varying strictness for look-up in a dictionary.
Given a lookup of the form Dict[filter: Tuple, value: whatever], you can iterate through the items
to find the key that matches the strictes filter (the filter that returns the highest value from
iterable matches). See policy_lookup</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<em>Sequence</em>) – item to check</p></li>
<li><p><strong>filter</strong> (<em>Sequence</em>) – each element of the filter should have the same type as
the corresponding element of item or be None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>n_matches</strong> – returns -1 if there are any non-None elements of filter
that ‘item’ doesn’t match.
Otherwise, returns the number of non-None elements of filter</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.map_vals">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">map_vals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">weighted_elements</span><span class="p">:</span> <span class="n">Iterable<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Weighted" title="VIAYN.project_types.Weighted">VIAYN.project_types.Weighted</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">fn</span><span class="p">:</span> <span class="n">Callable<span class="p">[</span><span class="p">[</span>float<span class="p">]</span><span class="p">, </span>float<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Weighted" title="VIAYN.project_types.Weighted">VIAYN.project_types.Weighted</a><span class="p">]</span><a class="headerlink" href="#VIAYN.utils.map_vals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.normalize_weight">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">normalize_weight</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">weighted_vals</span><span class="p">:</span> <span class="n">Sequence<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Weighted" title="VIAYN.project_types.Weighted">VIAYN.project_types.Weighted</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Weighted" title="VIAYN.project_types.Weighted">VIAYN.project_types.Weighted</a><span class="p">]</span><a class="headerlink" href="#VIAYN.utils.normalize_weight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.repeat_if_float">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">repeat_if_float</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>float<span class="p">, </span>List<span class="p">[</span>float<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">n</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>float<span class="p">]</span><a class="headerlink" href="#VIAYN.utils.repeat_if_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility method.
If a float is passed in for ‘value’, returns [value] * N
otherwise, just returns value, assuming it is a list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – number of timesteps per prediction
Only necessary if value is a float.
Otherwise, just checks that ‘value’ has length N</p></li>
<li><p><strong>value</strong> (<em>numeric</em>) – prediction or bet. If float, same value used fro all timesteps</p></li>
<li><p><strong>normalize</strong> (<em>bool</em>) – whether to make all entries sum up to the original value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>values</strong> – values as a list, if conversion is necessary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.total_weight">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">total_weight</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">weighted_vals</span><span class="p">:</span> <span class="n">Iterable<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Weighted" title="VIAYN.project_types.Weighted">VIAYN.project_types.Weighted</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.utils.total_weight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.weighted_mean">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">weighted_mean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">weighted_vals</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Weighted" title="VIAYN.project_types.Weighted">VIAYN.project_types.Weighted</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.utils.weighted_mean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.weighted_mean_of_bets">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">weighted_mean_of_bets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bets</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.WeightedBet" title="VIAYN.project_types.WeightedBet">VIAYN.project_types.WeightedBet</a><span class="p">[</span>A<span class="p">, </span>S<span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>float<span class="p">]</span><a class="headerlink" href="#VIAYN.utils.weighted_mean_of_bets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="VIAYN.utils.weighted_quartile">
<code class="sig-prename descclassname">VIAYN.utils.</code><code class="sig-name descname">weighted_quartile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">weighted_losses</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#VIAYN.project_types.Weighted" title="VIAYN.project_types.Weighted">VIAYN.project_types.Weighted</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">quartile</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.95</span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#VIAYN.utils.weighted_quartile" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the lowest loss observed such that quartile% of the losses (by weight)
have lower loss than it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>weighted_losses</strong> – </p></li>
<li><p><strong>quartile</strong> (<em>List</em><em>[</em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em><em>]</em>) – [(weight &gt;= 0, loss &gt;= 0)]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>loss</strong> – the 95th quartile loss</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float &gt;= 0</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-VIAYN">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-VIAYN" title="Permalink to this headline">¶</a></h2>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">VIAYN package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-VIAYN.DiscreteDistribution">VIAYN.DiscreteDistribution module</a></li>
<li><a class="reference internal" href="#module-VIAYN.project_types">VIAYN.project_types module</a></li>
<li><a class="reference internal" href="#module-VIAYN.train">VIAYN.train module</a></li>
<li><a class="reference internal" href="#module-VIAYN.utils">VIAYN.utils module</a></li>
<li><a class="reference internal" href="#module-VIAYN">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="modules.html"
                        title="previous chapter">VIAYN</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="VIAYN.experiments.html"
                        title="next chapter">VIAYN.experiments package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/VIAYN.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="VIAYN.experiments.html" title="VIAYN.experiments package"
             >next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="VIAYN"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Voting Is All You Need 0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >VIAYN</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">VIAYN package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Suhail Alnahari, Carter Blum.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>